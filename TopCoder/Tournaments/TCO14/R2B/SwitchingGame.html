<html><body bgcolor="#ffffff" text="#000000"><table><tr><td colspan="2"><h3>Problem Statement</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td>You're playing a game with lamps.
There are M lamps in a row.
The lamps are numbered 0 through M-1.
Initially, all lamps are turned off.
<br></br><br></br>
The game consists of N levels.
The levels are numbered 0 through N-1.
Each level is described by a string of M characters.
For each i, character i of that string gives the required state of lamp i.
Each of these characters will be either '+', '-', or '?'.
Here, '+' means that the lamp must be on, '-' means that the lamp must be off, and '?' means that the lamp may be in either state.
<br></br><br></br>
The game is played in turns.
Each turn takes one second.
In each turn, you may do one of three things:
<ul>
<li>You may choose any subset of lamps that are all turned off, and turn all of them on.</li>
<li>You may choose any subset of lamps that are all turned on, and turn all of them off.</li>
<li>You may press the big red button that says "Check!".</li>
</ul>
Whenever you press the button, the current states of all lamps are checked against the requirements of the current level.
If all lamps satisfy the requirements, you solved the current level.
You win the game by solving all N levels.
You must solve the levels in the given order, starting with level 0.
Note that the lamps do not reset between levels: you continue playing the next level from the state you had when you solved the previous level.
<br></br><br></br>
Return the smallest number of seconds it takes to win the game if you play optimally.
</td></tr><tr><td colspan="2"><h3>Definition</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Class:</td><td>SwitchingGame</td></tr><tr><td>Method:</td><td>timeToWin</td></tr><tr><td>Parameters:</td><td>vector &lt;string&gt;</td></tr><tr><td>Returns:</td><td>int</td></tr><tr><td>Method signature:</td><td>int timeToWin(vector &lt;string&gt; states)</td></tr><tr><td colspan="2">(be sure your method is public)</td></tr></table></td></tr><tr><td colspan="2"><h3>Limits</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Time limit (s):</td><td>2.000</td></tr><tr><td>Memory limit (MB):</td><td>256</td></tr></table></td></tr><tr><td colspan="2"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top">-</td><td><b>states</b> will contain exactly N elements.</td></tr><tr><td align="center" valign="top">-</td><td>N will be between 1 and 50, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td>Each element of <b>states</b> will contain exactly M characters.</td></tr><tr><td align="center" valign="top">-</td><td>M will be between 1 and 50, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td>Each character of <b>states</b> will be '+', '-' or '?'.</td></tr><tr><td colspan="2"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true">0)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{&quot;++--&quot;,
 &quot;--++&quot;}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 5</pre></td></tr><tr><td><table><tr><td colspan="2">The following sequence of actions wins the game in five seconds:
<ol>
<li>Turn lamps 0 and 1 on.</li>
<li>Press the button to win level 0.</li>
<li>Turn lamps 0 and 1 off.</li>
<li>Turn lamps 2 and 3 on.</li>
<li>Press the button to win level 1 and thus win the game.</li>
</ol></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">1)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{&quot;+-++&quot;,
 &quot;+-++&quot;}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 3</pre></td></tr><tr><td><table><tr><td colspan="2">Each time you press the button you can only win a single level.
Even though levels 0 and 1 are identical, you have to press the button twice in a row to win both of them.
</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">2)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{&quot;++&quot;,
 &quot;+?&quot;,
 &quot;?+&quot;,
 &quot;++&quot;}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 5</pre></td></tr><tr><td><table><tr><td colspan="2">Here we can simply turn both lamps on, and then use that configuration to win all four levels.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">3)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{&quot;+&quot;, 
 &quot;?&quot;,
 &quot;?&quot;,
 &quot;?&quot;,
 &quot;-&quot;}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 7</pre></td></tr><tr><td><table><tr><td colspan="2">At some point between winning level 0 and winning level 4 we have to turn the lamp off.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">4)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{&quot;+??+++&quot;,
 &quot;++??+-&quot;,
 &quot;?++??+&quot;,
 &quot;?-+-??&quot;,
 &quot;??+?++&quot;,
 &quot;++-?+?&quot;,
 &quot;?++?-+&quot;,
 &quot;?--+++&quot;,
 &quot;-??-?+&quot;}
</pre></td></tr></table></td></tr><tr><td><pre>Returns: 20</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr></table><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2003, TopCoder, Inc.  All rights reserved.  </p></body></html>
